(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{6689:function(e,t,o){var n=o(5885);n=n.default||n,e.exports=function(e,t){var o=e.req&&e.req.headers&&e.req.headers.cookie;return new n(o).getAll(t)}},5557:function(e,t,o){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return o(8287)}])},5578:function(e,t,o){"use strict";o.r(t);var n=o(5893);o(7294);let s=()=>(0,n.jsx)("h1",{children:"Loading...."});t.default=s},8287:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return r}});var n=o(5893);o(7294),o(1163);var s=o(3826);function r(){return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(s.default,{})})}},3826:function(e,t,o){"use strict";o.r(t);var n=o(5893),s=o(7294),r=o(9473);o(5578);var i=o(7041),a=o(5475),c=o(6689),u=o.n(c),l=o(1163);let d=()=>{let[e,t]=(0,s.useState)([]),[o,c]=(0,s.useState)(""),[d,h]=(0,s.useState)(""),{isLoading:f,token:p}=(0,r.v9)(e=>e.login),{gettingAllTasks:m,user:g}=(0,r.v9)(e=>e.task),k=(0,r.I0)(),v=(0,l.useRouter)(),x=()=>{(0,i.deleteCookie)("token"),v.push("/login")},b=e=>{c(e.target.value)},_=()=>{if(""==o)alert("Task cannot be empty");else{let e={task:o,token:u()("token").token};k((0,a.ai)(e)),c("")}};return(0,s.useEffect)(()=>{(0,i.hasCookie)("token")||v.push("/login"),h(new Date().toLocaleDateString());let e=u()("token"),t={token:e.token};e.token&&k((0,a.ol)(t))},[]),(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{className:"w-10/12 sm:w-2/6 m-auto mt-14 h-5/6 border-solid border-2 border-grey",children:(0,n.jsx)("div",{children:(0,n.jsxs)("div",{className:"border-solid border-2 border-white w-11/12 m-auto mt-8",children:[(0,n.jsx)("h1",{className:"font-light text-2xl",children:"Hello"}),(0,n.jsx)("h1",{className:"font-medium text-3xl mt-1",children:g.userName}),(0,n.jsx)("p",{className:"font-normal text-base mt-3",children:"Good to see you here !"}),(0,n.jsxs)("p",{className:"text-base font-bold mt-12 mb-8",children:["Tasks for ",(0,n.jsx)("span",{children:d})]}),(0,n.jsx)("div",{className:"border-solid border-2 border-white h-40 mb-8",children:(0,n.jsx)("ul",{className:"list-disc ml-6 font-normal text-base",children:m.map(e=>(0,n.jsx)("li",{className:"mt-1",children:e.task},e._id))})}),(0,n.jsx)("input",{onChange:b,name:"task",value:o,type:"text",placeholder:"Add Task",className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline "})," ",(0,n.jsx)("br",{}),(0,n.jsx)("button",{onClick:_,className:"w-full bg-black text-white p-1 mt-2 rounded-lg hover:bg-gray-700 font-medium text-sm h-9",children:"Add New Task"}),(0,n.jsx)("br",{}),(0,n.jsx)("button",{onClick:x,className:"w-full mt-2 p-1 rounded-md",children:"Logout"})]})})})})};t.default=d},1163:function(e,t,o){e.exports=o(880)},5885:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return i}});var n=o(6489);function s(e,t){void 0===t&&(t={});var o,n=e&&"j"===e[0]&&":"===e[1]?e.substr(2):e;if(void 0===(o=t.doNotParse)&&(o=!n||"{"!==n[0]&&"["!==n[0]&&'"'!==n[0]),!o)try{return JSON.parse(n)}catch(e){}return e}var r=function(){return(r=Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++)for(var s in t=arguments[o])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e}).apply(this,arguments)},i=function(){function e(e,t){var o=this;this.changeListeners=[],this.HAS_DOCUMENT_COOKIE=!1,this.cookies="string"==typeof e?n.parse(e,t):"object"==typeof e&&null!==e?e:{},new Promise(function(){o.HAS_DOCUMENT_COOKIE="object"==typeof document&&"string"==typeof document.cookie}).catch(function(){})}return e.prototype._updateBrowserValues=function(e){this.HAS_DOCUMENT_COOKIE&&(this.cookies=n.parse(document.cookie,e))},e.prototype._emitChange=function(e){for(var t=0;t<this.changeListeners.length;++t)this.changeListeners[t](e)},e.prototype.get=function(e,t,o){return void 0===t&&(t={}),this._updateBrowserValues(o),s(this.cookies[e],t)},e.prototype.getAll=function(e,t){void 0===e&&(e={}),this._updateBrowserValues(t);var o={};for(var n in this.cookies)o[n]=s(this.cookies[n],e);return o},e.prototype.set=function(e,t,o){var s;"object"==typeof t&&(t=JSON.stringify(t)),this.cookies=r(r({},this.cookies),((s={})[e]=t,s)),this.HAS_DOCUMENT_COOKIE&&(document.cookie=n.serialize(e,t,o)),this._emitChange({name:e,value:t,options:o})},e.prototype.remove=function(e,t){var o=t=r(r({},t),{expires:new Date(1970,1,1,0,0,1),maxAge:0});this.cookies=r({},this.cookies),delete this.cookies[e],this.HAS_DOCUMENT_COOKIE&&(document.cookie=n.serialize(e,"",o)),this._emitChange({name:e,value:void 0,options:t})},e.prototype.addChangeListener=function(e){this.changeListeners.push(e)},e.prototype.removeChangeListener=function(e){var t=this.changeListeners.indexOf(e);t>=0&&this.changeListeners.splice(t,1)},e}()}},function(e){e.O(0,[774,888,179],function(){return e(e.s=5557)}),_N_E=e.O()}]);